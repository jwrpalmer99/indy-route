<style>
    .indy-route-currencies .window-content {
        overflow: auto;
        padding: 12px 16px;
    }
    .indy-route-currencies form {
        display: grid;
        gap: 12px;
    }
    .indy-route-currencies .currency-toolbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
    }
    .indy-route-currencies .currency-list {
        display: grid;
        gap: 8px;
    }
    .indy-route-currencies .currency-row {
        display: grid;
        grid-template-columns: minmax(0, 0.8fr) minmax(0, 1fr) minmax(0, 0.8fr) 48px;
        gap: 8px;
        align-items: center;
        padding: 8px;
        border: 1px solid var(--color-border-light-2);
        border-radius: 8px;
        background: var(--color-bg);
    }
    .indy-route-currencies .currency-row label {
        font-size: 0.75em;
        color: var(--color-text-light-6);
    }
    .indy-route-currencies .currency-row input {
        width: 100%;
    }
    .indy-route-currencies .currency-actions {
        display: flex;
        justify-content: flex-end;
    }
</style>

<form onsubmit="return false;">
    <div class="currency-toolbar">
        <strong>Currency Conversions</strong>
        <button type="button" data-action="add-currency">Add Currency</button>
    </div>

    <div class="currency-list">
        {{#each currencies as |entry idx|}}
        <div class="currency-row" data-index="{{idx}}">
            <div>
                <label>Key</label>
                <input type="text" name="currencies.{{idx}}.key" value="{{entry.key}}" placeholder="gp" />
            </div>
            <div>
                <label>Label</label>
                <input type="text" name="currencies.{{idx}}.label" value="{{entry.label}}" placeholder="Gold" />
            </div>
            <div>
                <label>Conversion</label>
                <input type="number" min="0.01" step="0.01" name="currencies.{{idx}}.conversion" value="{{entry.conversion}}" />
                <p class="hint">Units per 1 gp. Example: sp = 10.</p>
            </div>
            <div class="currency-actions">
                <button type="button" data-action="delete-currency" data-index="{{idx}}">
                    <i class="fa-solid fa-trash"></i>
                </button>
            </div>
        </div>
        {{/each}}
    </div>

    <footer class="sheet-footer flexrow">
        <button type="button" data-action="save">
            <i class="fas fa-save"></i> Save
        </button>
        <button type="button" data-action="cancel">Cancel</button>
    </footer>
</form>
